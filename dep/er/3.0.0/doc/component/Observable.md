# 事件对象

ER框架提供了一个基础的事件对象，Observable对象，用于管理事件的注册的触发。

## 方法

### on方法

`on`方法用于注册一个事件处理函数，其签名如下：

    on({string} type, {function} handler)

#### 参数

- `{string} type`：事件的类型，如果类型为`*`则在所有事件触发时执行。
- `{function} handler`：事件的处理函数。

### un方法

`un`方法用于注销一个事件处理函数，其签名如下：

    un({string} type, {function=} handler)

#### 参数

- `{string} type`：事件的类型。
- `{function} handler`：事件的处理函数。如果没有此参数，则注销`type`类型的所有处理函数。

### fire方法

`fire`方法用于触发一个事件，其签名如下：

    fire({string} type, {Object} event)

#### 参数

- `{string} type`：事件类型
- `{Object} event`：事件对象

当事件触发时，会自动给`event`对象加上`type`属性。

### enable静态方法

`enable`方法用于为任意一个对象提供事件处理能力，而不需要声明一个类来继承Observable对象，其签名如下：

    enable({Object} target)

#### 参数

- `{Object} target`：需要提供事件处理能力的目标对象。

## 关于事件触发顺序

当调用`fire`函数触发一个事件时，其触发顺序如下：

1. 如果对象上存在名称为`on{type}`的方法，执行该方法
2. 按照事件注册时的先后顺序，依次执行类型为`type`的处理函数
3. 按照事件注册时的先后顺序，依次执行类型为`*`的处理函数

## 关于特殊事件

名称为`*`的事件为特殊事件，代表 **所有事件** 。

- 当注册一个事件时，如果事件名为`*`，则在任何事件触发时，都会执行该函数。
- 当注销一个事件时，如果事件名为`*`，只会注销以前用`*`作为事件名注册的处理函数，不会注销所有其它事件的处理函数。